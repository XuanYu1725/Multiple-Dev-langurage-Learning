# 控制台输出

本节目标是读取键盘输入，然后进行不同的操作：

- 读取一个键盘输入然后直接输出
- 读取两段用空格分隔的文字然后将他们连接在一起输入
- 读取键盘输入的全部数字（用空格分隔）然后输出它的和
- 读取整行输入并输出

通过这个例子，可以了解到不同语言读取键盘输入的各种用法

# 代码解析

由于这次的需求比较多，这里就不逐行解析了。

# C

stdio头文件中提供了两个函数，scanf 和 printf，允许格式化输入输出。

注意，使用 scanf 时，传入的是变量的地址。要读入多少个用空白符分隔的输入，就在格式字符串中写多少个以 `%` 开始的格式，以空白符分隔，然后提供数个地址，如 `scanf("%s %s", &var1, &var2)`。（注：如果是字符串即字符数组，那么变量本身就是目标地址，不需要使用取地址符 `&`）

scanf 每次读取遇到空白符就会停止，一般在读取时需要使用循环结构。而且由于会跳过空白符读取，分隔符会残留在输入流中。

使用 getchar 函数或 scanf 格式中的 `*` 赋值抑制符和集合扫描 `[]` 可以读取并清除特定的字符，起到清理输入流的作用。

stdio 头文件中的 fgets 方法可以一次读取一行，包括所有的空白符（含换行符），因此不会造成残留。用法为 `fgets(buffer, sizeof(buffer), stdin)`。此时可以再用 sscanf 解析 `buffer` 中的字符 `sscanf(buffer, "%c", &var)`

C语言中的字符串操作这里不展开，以后我们会介绍。

这里总结一下几个函数的返回值：

- scanf：成功时返回赋值的变量个数，失败时返回0（匹配失败）或EOF（错误或文件结尾）
- getchar：成功时返回字符的ASCII码，失败时返回 -1
- fgets：成功时返回指向缓冲变量的指针，失败时返回NULL

# C++

使用 cstdio 时和 C 相同，cin 的具体使用方法应该在代码中展示的比较清晰，在此不赘述使用方法，仅讲解 cin 的一些特性。

iostream 头文件中的 std::cin 对象每次读取遇到空白符就会停止，一般在读取时需要使用循环结构。而且由于会跳过空白符读取，分隔符会残留在输入流中，必要时需要用 `std::cin.ignore()` 清理。

string 头文件中的 std::getline 函数可以一次读取一行，包括所有的空白符（不含换行符，换行符会被丢弃），且不会在输入流中残留字符。用法为 `std::getline(cin, var)`。不同于 scanf，这里不需要传入变量的地址（内部通过引用直接修改原对象）。

getline 也可以通过 `std::getline(cin, var, ',')` 来自定义分隔符，每次遇到分隔符时停止（默认是换行符\n）。成功时返回输入流本身的引用（比如这里的 cin），失败时会设置流状态。

# Java

Java 读取键盘输入主要使用 java.util 中 Scanner 对象的成员方法，需要提供一个输入流 System.in

```java
Scanner scanner = new Scanner(System.in);
```

通过一系列以 `next` 开头的成员方法可以进行各种所需的读取操作。

由于Java对流的包装比较少，像 C/C++ 那样检测下一个输入是不是换行符比较棘手，所以在这个例子中，我们先读入一整行，再将读取的数据作为输入流用另一个 Scanner 对象处理

```java
Scanner scanner = new Scanner(System.in);
String line = scanner.nextLine();
Scanner lineScanner = new Scanner(line);
int sum = 0;
while (lineScanner.hasNextInt()) {
    int num = lineScanner.nextInt();
    sum += num;
}
```

# Python

Python 没有类似 C/C++ 的流式输入设计，一般直接读入整行输入再对输入进行处理。尽管如此，Python的实现依然是所有语言里最简短的。

Input01.py 出现的 split(" ")是将字符串按分隔符切割为数组并返回的函数，若省略参数则默认是按空格进行分割。我们用这个来模拟逐单词读入的方式。

Input02.py 出现的 [0:2] 是切片操作，即从0开始取（包括0），取到2停止（不包括2）。这里使用的循环结构是为了模拟流式输入等待输入全部完成。

值得注意的是，Python 的 `print` 函数是自带换行符末尾的，如果不想换行，需要在参数中显式指定末尾。

```python
print("text", end = '')
```

# Golang

# Mcfunction(???)